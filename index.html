<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Sky Adventure – Adi Parashakti Edition</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: linear-gradient(to top, #001848, #87ceeb);
      font-family: 'Verdana', sans-serif;
    }

    canvas {
      display: block;
    }
  </style>
</head>
<body>
  <canvas id="gameCanvas"></canvas>

  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    window.addEventListener('resize', () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    });

    // Global time tracking
    let frame = 0;
    let score = 0;
  </script>
</body>
</html>
// Bird (player) class with gentle gliding motion
class Bird {
  constructor() {
    this.x = canvas.width / 5;
    this.y = canvas.height / 2;
    this.radius = 30;
    this.velocityY = 0;
    this.gravity = 0.4;
    this.lift = -10;
    this.rotation = 0;
    this.image = new Image();
    this.image.src = 'https://i.ibb.co/FsQJzKg/bird-wings.png'; // Cute gliding bird image
  }

  update() {
    this.velocityY += this.gravity;
    this.y += this.velocityY;

    // Simulate tilt
    if (this.velocityY < 0) this.rotation = -15;
    else this.rotation = Math.min(this.velocityY * 2, 30);

    // Stop bird from falling off screen
    if (this.y + this.radius > canvas.height) {
      this.y = canvas.height - this.radius;
      this.velocityY = 0;
    }
    if (this.y - this.radius < 0) {
      this.y = this.radius;
      this.velocityY = 0;
    }
  }

  flap() {
    this.velocityY = this.lift;
  }

  draw() {
    ctx.save();
    ctx.translate(this.x, this.y);
    ctx.rotate(this.rotation * Math.PI / 180);
    ctx.drawImage(this.image, -this.radius, -this.radius, this.radius * 2, this.radius * 2);
    ctx.restore();
  }
}

const bird = new Bird();

// Flap on touch/click/space
window.addEventListener('keydown', e => {
  if (e.code === 'Space') bird.flap();
});
window.addEventListener('touchstart', () => bird.flap());
// Cloud obstacle class
class Cloud {
  constructor() {
    this.width = 80 + Math.random() * 100;
    this.height = 40 + Math.random() * 30;
    this.x = canvas.width;
    this.y = Math.random() * (canvas.height - 100);
    this.speed = 2 + Math.random() * 2;
    this.opacity = 0.5 + Math.random() * 0.5;
  }

  update() {
    this.x -= this.speed;
  }

  draw() {
    ctx.save();
    ctx.globalAlpha = this.opacity;
    ctx.fillStyle = '#ffffff';
    ctx.beginPath();
    ctx.ellipse(this.x, this.y, this.width, this.height, 0, 0, Math.PI * 2);
    ctx.fill();
    ctx.restore();
  }
}

const clouds = [];

// Generate clouds periodically
function handleClouds() {
  if (frame % 120 === 0) {
    clouds.push(new Cloud());
  }

  clouds.forEach((cloud, index) => {
    cloud.update();
    cloud.draw();

    if (cloud.x + cloud.width < 0) {
      clouds.splice(index, 1);
    }
  });
}

// Dynamic sky color based on frame
function drawSkyGradient() {
  const skyGradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
  const skyPhase = Math.sin(frame * 0.001); // Sky shifting with time
  if (skyPhase > 0) {
    skyGradient.addColorStop(0, '#001848');
    skyGradient.addColorStop(1, '#87ceeb');
  } else {
    skyGradient.addColorStop(0, '#22213b');
    skyGradient.addColorStop(1, '#003f5c');
  }
  ctx.fillStyle = skyGradient;
  ctx.fillRect(0, 0, canvas.width, canvas.height);
}
// Star class – collectible treasures
class Star {
  constructor() {
    this.radius = 12;
    this.x = canvas.width + this.radius;
    this.y = Math.random() * (canvas.height - 100);
    this.speed = 4;
    this.collected = false;
  }

  update() {
    this.x -= this.speed;
  }

  draw() {
    ctx.fillStyle = 'gold';
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
    ctx.fill();
    ctx.strokeStyle = 'white';
    ctx.lineWidth = 2;
    ctx.stroke();
  }
}

const stars = [];
let combo = 0;
let lastStarTime = 0;

// Spawn stars periodically
function handleStars() {
  if (frame % 100 === 0) {
    stars.push(new Star());
  }

  stars.forEach((star, index) => {
    star.update();
    star.draw();

    // Collision with bird
    const dx = bird.x - star.x;
    const dy = bird.y - star.y;
    const distance = Math.sqrt(dx * dx + dy * dy);

    if (distance < bird.radius + star.radius) {
      stars.splice(index, 1);
      score += 10;

      // Combo detection
      const now = Date.now();
      if (now - lastStarTime < 1000) {
        combo++;
        score += combo * 5; // Combo bonus
      } else {
        combo = 0;
      }
      lastStarTime = now;

      // Trigger power-up with small chance
      if (Math.random() < 0.2) spawnPowerUp(star.x, star.y);
    }

    // Remove off-screen
    if (star.x + star.radius < 0) {
      stars.splice(index, 1);
    }
  });
}

// Power-up types: magnet, shield
class PowerUp {
  constructor(x, y) {
    this.x = x;
    this.y = y;
    this.radius = 15;
    this.type = Math.random() < 0.5 ? 'magnet' : 'shield';
    this.active = false;
    this.speed = 3;
    this.collected = false;
  }

  update() {
    this.x -= this.speed;
  }

  draw() {
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
    ctx.fillStyle = this.type === 'magnet' ? '#00e5ff' : '#76ff03';
    ctx.fill();
    ctx.strokeStyle = 'white';
    ctx.stroke();
  }
}

const powerUps = [];
let magnetActive = false;
let shieldActive = false;
let powerUpTimer = 0;

function spawnPowerUp(x, y) {
  powerUps.push(new PowerUp(x, y));
}

function handlePowerUps() {
  powerUps.forEach((p, index) => {
    p.update();
    p.draw();

    const dx = bird.x - p.x;
    const dy = bird.y - p.y;
    const dist = Math.sqrt(dx * dx + dy * dy);
    if (dist < bird.radius + p.radius) {
      if (p.type === 'magnet') {
        magnetActive = true;
        powerUpTimer = frame;
      } else {
        shieldActive = true;
      }
      powerUps.splice(index, 1);
    }

    if (p.x + p.radius < 0) {
      powerUps.splice(index, 1);
    }
  });

  // Deactivate magnet after time
  if (magnetActive && frame - powerUpTimer > 600) {
    magnetActive = false;
  }

  // Magnet effect: pull stars
  if (magnetActive) {
    stars.forEach(star => {
      const dx = bird.x - star.x;
      const dy = bird.y - star.y;
      const dist = Math.sqrt(dx * dx + dy * dy);
      if (dist < 150) {
        star.x += dx * 0.05;
        star.y += dy * 0.05;
      }
    });
  }
}
// Load sounds
const starSound = new Audio('https://cdn.pixabay.com/download/audio/2022/03/15/audio_104db8c902.mp3?filename=magic-chime-01-105491.mp3');
const powerUpSound = new Audio('https://cdn.pixabay.com/download/audio/2022/03/28/audio_17418e3db6.mp3?filename=magic-spell-1-102116.mp3');
const thudSound = new Audio('https://cdn.pixabay.com/download/audio/2022/03/24/audio_9a0b631ecd.mp3?filename=thud-wooden-1-101593.mp3');

// Score UI
function drawScoreUI() {
  ctx.fillStyle = 'white';
  ctx.font = '24px Verdana';
  ctx.fillText(`Score: ${score}`, 20, 40);
  if (combo > 0) {
    ctx.fillStyle = '#ffd700';
    ctx.fillText(`Combo x${combo}`, 20, 70);
  }
}

// Collision with clouds
function checkCollisions() {
  clouds.forEach((cloud, index) => {
    const withinX = bird.x + bird.radius > cloud.x - cloud.width / 2 &&
                    bird.x - bird.radius < cloud.x + cloud.width / 2;
    const withinY = bird.y + bird.radius > cloud.y - cloud.height / 2 &&
                    bird.y - bird.radius < cloud.y + cloud.height / 2;
    if (withinX && withinY) {
      if (shieldActive) {
        shieldActive = false;
        clouds.splice(index, 1);
      } else {
        thudSound.play();
        endGame();
      }
    }
  });
}

// Main game loop
let animationId;
function animate() {
  animationId = requestAnimationFrame(animate);
  frame++;

  drawSkyGradient();
  handleClouds();
  handleStars();
  handlePowerUps();
  bird.update();
  bird.draw();
  drawScoreUI();
  checkCollisions();
}

// Game over
function endGame() {
  cancelAnimationFrame(animationId);
  ctx.fillStyle = 'rgba(0, 0, 0, 0.6)';
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  ctx.fillStyle = 'white';
  ctx.font = '36px Verdana';
  ctx.fillText(`Game Over!`, canvas.width / 2 - 90, canvas.height / 2 - 20);
  ctx.fillText(`Final Score: ${score}`, canvas.width / 2 - 110, canvas.height / 2 + 30);
}

// Start the journey
animate();
<!-- Start Screen -->
<div id="startScreen" style="
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.7);
  color: white;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 10;
  font-family: 'Verdana', sans-serif;
">
  <h1>Sky Adventure</h1>
  <p id="missionText">Mission: Collect 10 stars</p>
  <button id="startBtn" style="
    padding: 10px 20px;
    font-size: 18px;
    margin-top: 20px;
    background: #00c853;
    border: none;
    border-radius: 5px;
    color: white;
    cursor: pointer;
  ">Start Flight</button>
</div>

<!-- Restart Screen -->
<div id="restartScreen" style="
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.85);
  color: white;
  display: none;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 10;
  font-family: 'Verdana', sans-serif;
">
  <h1>Game Over</h1>
  <p id="finalScore">Final Score: 0</p>
  <button id="restartBtn" style="
    padding: 10px 20px;
    font-size: 18px;
    margin-top: 20px;
    background: #ff4081;
    border: none;
    border-radius: 5px;
    color: white;
    cursor: pointer;
  ">Fly Again</button>
</div>
const startScreen = document.getElementById('startScreen');
const restartScreen = document.getElementById('restartScreen');
const startBtn = document.getElementById('startBtn');
const restartBtn = document.getElementById('restartBtn');
const finalScoreText = document.getElementById('finalScore');
const missionText = document.getElementById('missionText');

let starsCollected = 0;
let currentMission = { text: 'Collect 10 stars', target: 10 };

startBtn.onclick = () => {
  resetGame();
  startScreen.style.display = 'none';
  animate();
};

restartBtn.onclick = () => {
  resetGame();
  restartScreen.style.display = 'none';
  animate();
};

function resetGame() {
  score = 0;
  frame = 0;
  combo = 0;
  stars.length = 0;
  clouds.length = 0;
  powerUps.length = 0;
  starsCollected = 0;
  magnetActive = false;
  shieldActive = false;
  bird.y = canvas.height / 2;
  bird.velocityY = 0;
  missionText.textContent = `Mission: ${currentMission.text}`;
}

function endGame() {
  cancelAnimationFrame(animationId);
  finalScoreText.textContent = `Final Score: ${score}`;
  restartScreen.style.display = 'flex';
}
